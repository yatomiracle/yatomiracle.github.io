document.addEventListener('DOMContentLoaded', () => {
    const reasons = [
        "у тебя очень доброе сердце. мне приятно знать, что я могу поделиться с тобой чем-то, не боясь осуждения",
        "ты умная. вот сейчас, наверное, не веришь мне, но я правда восхищаюсь твоей сообразительностью и твоим умом",
        "ты терпеливая. даже когда я вредничаю, даже когда у тебя что-то не получается. у тебя потрясающая выдержка",
        "ты честная и искренняя, прямолинейная. спасибо, что помогаешь строить наши отношения на доверии и разговорах",
        "ты эмпат и, ура, я это в тебе просто всем сердцем обожаю!! с тобой так легко и уютно",
        "иногда меня просто поражает то, насколько ты разносторонний и творческий человек. я тебе запрещаю вредничать и говорить, что это не так! ты восхитительна, малыш, чем бы ни занималась",
        "ты очень сильная, даже если сама это не всегда хочешь признавать. я тобой безумно горжусь и знаю, что ты со всем-всем справишься",
        "никогда не говорила людям, что они щедрые, а вот тебе говорю! если бы не твоя безвозмездная помощь с моими базами данных, я бы умерла!! так что спасибо!",
        "ты моя самая настоящая опора. я рада, что могу положиться на такую любимую и такую чудесную девушку",
        "ты неидеальная, и это совершенно не делает тебя менее чем невероятной. главное, что ты такая, какая есть. и я в тебе это очень люблю",
        "ты шутишь смешные шутки!! даже если они иногда кажутся дурацкими (а мы ведь знаем, что самые смешные шутки как раз-таки дурацкие",
        "ты умеешь делать выбор, когда это очень нужно, и если бы не ты, я бы жила в муках (правда)",
        "ты вдохновляешь. очень сильно и бесконечно. с тобой хочется покорять все вершины, учиться решать шифр, кодить, читать, любить, да чего только не хочется! ты моя самая большая мотивация",
        "ты невероятная просто потому, что ты есть. потому, что живешь, стараешься, проявляешь усердие, совершаешь ошибки и учишься на них. всё, что делает тебя собой, делает тебя невероятной",
    ];

    const showReasonButton = document.getElementById('show-reason');
    const reasonParagraph = document.getElementById('reason');

    showReasonButton.addEventListener('click', () => {
        const today = new Date().toISOString().split('T')[0]; // YYYY-MM-DD
        let shownReasons = JSON.parse(localStorage.getItem('shownReasons')) || {};

        if (!shownReasons[today]) {
            let remainingReasons = reasons.filter(reason => !Object.values(shownReasons).includes(reason));
            if (remainingReasons.length === 0) {
                // Если все причины уже были показаны, очищаем и начинаем заново
                shownReasons = {};
                remainingReasons = reasons;
            }
            const randomIndex = Math.floor(Math.random() * remainingReasons.length);
            const reason = remainingReasons[randomIndex];
            shownReasons[today] = reason;
            localStorage.setItem('shownReasons', JSON.stringify(shownReasons));
        }
        
        reasonParagraph.textContent = shownReasons[today];
    });
});

